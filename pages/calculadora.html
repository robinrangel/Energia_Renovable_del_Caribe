<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de costos</title>
    <link rel="stylesheet" href="../assets/css/calculadora.css">
    <link rel="stylesheet" href="../assets/css/reset.css">
    <link rel="shortcut icon" href="../assets/img_video/logo.png" type="image/x-icon">

</head>

<body>

    <header>
        <figure class="logo">
            <img src="../assets/img_video/logo.png" alt="logo energy">
        </figure>

        <nav class="navbar">
            <ul>
                <li><a href="../index.html">Inicio</a></li>
                <li><a href="../pages/presentacion.html">Presentaci√≥n</a></li>
                <li><a href="../pages/recursos_naturales.html">Recursos naturales</a></li>
                <li><a href="../pages/beneficios_sociales.html">Beneficios sociales</a></li>
                <li><a href="#" class="active">Simulador de costos</a></li>
            </ul>
        </nav>

        <a href="../index.html#register" class="btn-registro">Contactanos</a>
    </header>

    <div class="container">
        <h1>Calculadora de Ahorro con Paneles Solares</h1>
        <p>Ingresa tu consumo mensual y el precio por kWh para estimar el tama√±o del sistema, el costo y el tiempo de
            recuperaci√≥n.</p>

        <!-- Formulario de entrada -->
        <div class="formulario">
            <label for="consumo">Consumo mensual (kWh):</label>
            <input type="number" id="consumo" placeholder="Ej: 244">

            <label for="precio">Precio por kWh (COP):</label>
            <input type="number" id="precio" placeholder="Ej: 914.40" step="0.01">

            <label for="potencia_panel">Potencia de cada panel (W):</label>
            <select id="potencia_panel">
                <option value="450">450 W</option>
                <option value="550">550 W</option>
            </select>

            <button onclick="calcular()">Calcular</button>
        </div>

        <!-- Resultados -->
        <div class="resultados">
            <h2>Resultados</h2>
            <p><strong>Consumo objetivo (con 30% extra):</strong> <span id="consumo_obj"></span> kWh/mes</p>
            <p><strong>Potencia necesaria:</strong> <span id="potencia"></span> kW</p>
            <p><strong>Costo promedio de instalaci√≥n:</strong> $<span id="costo"></span> COP</p>
            <p><strong>Ahorro mensual:</strong> $<span id="ahorro_mes"></span> COP</p>
            <p><strong>Ahorro anual:</strong> $<span id="ahorro_anual"></span> COP</p>
            <p><strong>Tiempo recuperaci√≥n de inversion:</strong> <span id="recuperacion"></span> a√±os</p>
            <p><strong>N√∫mero de paneles necesarios:</strong> <span id="num_paneles"></span></p>
        </div>
    </div>

    <footer>
        <div class="pie">
            <p>
                ¬© 2023 Energ√≠a Renovable del Caribe. Todos los derechos reservados.
            </p>

            <div class="footer__info">
                <p>
                    <i class="fas fa-phone"></i>
                    <a href="tel:+573044986483">+57 3044986483</a>
                </p>
                <p>
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:energiarenovabledelcaribe@gmail.com">energiarenovabledelcaribe@gmail.com</a>
                </p>
                <p>
                    <i class="fas fa-map-marker-alt"></i>
                    Valledupar - Cesar, Colombia
                </p>
            </div>

            <p class="info">
                "Generando energ√≠a limpia para el desarrollo sostenible del Caribe"
            </p>
        </div>
    </footer>

    <script>
        function calcular() {
            let consumo = parseFloat(document.getElementById("consumo").value);
            let precio = parseFloat(document.getElementById("precio").value);
            let potencia_panel = parseFloat(document.getElementById("potencia_panel").value);

            if (isNaN(consumo) || isNaN(precio) || consumo <= 0 || precio <= 0 || isNaN(potencia_panel) || potencia_panel <= 0) {
                alert("Por favor, ingresa valores v√°lidos.");
                return;
            }

            // Aumentar consumo en 30% para margen de seguridad
            let consumo_obj = consumo * 1.3;

            // Horas solares pico promedio (Colombia ‚âà 5 h/d√≠a)
            let horas_solares = 5;

            // Potencia necesaria (kW)
            let potencia = (consumo_obj / 30) / horas_solares;

            // Costo estimado por kW instalado (COP)
            let costo_kw = 3500000; // Valor aproximado en Colombia
            let costo_instalacion = potencia * costo_kw;

            // Ahorro mensual y anual
            let ahorro_mensual = consumo_obj * precio;
            let ahorro_anual = ahorro_mensual * 12;

            // Tiempo de recuperaci√≥n (a√±os)
            let recuperacion = costo_instalacion / ahorro_anual;

            // C√°lculo de n√∫mero de paneles
            let potencia_total_watts = potencia * 1000;
            let num_paneles = Math.ceil(potencia_total_watts / potencia_panel);

            // Mostrar resultados
            document.getElementById("consumo_obj").innerText = consumo_obj.toFixed(2);
            document.getElementById("potencia").innerText = potencia.toFixed(2);
            document.getElementById("costo").innerText = costo_instalacion.toLocaleString();
            document.getElementById("ahorro_mes").innerText = ahorro_mensual.toLocaleString();
            document.getElementById("ahorro_anual").innerText = ahorro_anual.toLocaleString();
            document.getElementById("recuperacion").innerText = recuperacion.toFixed(1);
            document.getElementById("num_paneles").innerText = num_paneles;
        }
    </script>

    <!-- Chatbot Energ√≠as Renovable del Caribe -->
    <div id="erc-chatbot">
        <button id="erc-chatbot-toggle">üí¨</button>
        <div id="erc-chatbot-window">
            <div class="erc-chatbot-title">Energ√≠as Renovable del Caribe</div>
            <div id="erc-chatbot-messages"></div>
            <form id="erc-chatbot-form" autocomplete="off">
                <input type="text" id="erc-chatbot-input" placeholder="Escribe tu mensaje...">
                <button type="submit">Enviar</button>
            </form>
        </div>
    </div>
    <script src="../assets/script/script.js"></script>
</body>

</html>