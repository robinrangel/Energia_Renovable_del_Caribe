<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Solar</title>
    <link rel="stylesheet" href="../assets/css/calculadora.css">
    <link rel="stylesheet" href="../assets/css/reset.css">
</head>
<body>

    <header>
         <figure class="logo">
            <img src="../assets/img_video/logo.png" alt="logo energy">
        </figure>

        <nav class="navbar">
            <ul>
                <li><a href="../index.html">Inicio</a></li>
                <li><a href="../pages/presentacion.html">Presentación</a></li>
                <li><a href="../pages/recursos_naturales.html">Recursos naturales</a></li>
                <li><a href="../pages/beneficios_sociales.html">Beneficios sociales</a></li>
                <li><a href="#" class="active">Simulador de costos</a></li>
            </ul>
        </nav>

        <a href="../index.html#register" class="btn-registro">Registrate</a>
    </header>

    <div class="container">
        <h1>Calculadora de Ahorro con Paneles Solares</h1>
        <p>Ingresa tu consumo mensual y el precio por kWh para estimar el tamaño del sistema, el costo y el tiempo de recuperación.</p>

        <!-- Formulario de entrada -->
        <div class="formulario">
            <label for="consumo">Consumo mensual (kWh):</label>
            <input type="number" id="consumo" placeholder="Ej: 244">

            <label for="precio">Precio por kWh (COP):</label>
            <input type="number" id="precio" placeholder="Ej: 914.40" step="0.01">

            <button onclick="calcular()">Calcular</button>
        </div>

        <!-- Resultados -->
        <div class="resultados">
            <h2>Resultados</h2>
            <p><strong>Consumo objetivo (con 30% extra):</strong> <span id="consumo_obj"></span> kWh/mes</p>
            <p><strong>Potencia necesaria:</strong> <span id="potencia"></span> kW</p>
            <p><strong>Costo promedio de instalación:</strong> $<span id="costo"></span> COP</p>
            <p><strong>Ahorro mensual:</strong> $<span id="ahorro_mes"></span> COP</p>
            <p><strong>Ahorro anual:</strong> $<span id="ahorro_anual"></span> COP</p>
            <p><strong>Tiempo recuperación de inversion:</strong> <span id="recuperacion"></span> años</p>
        </div>
    </div>

    <script>
        function calcular() {
            let consumo = parseFloat(document.getElementById("consumo").value);
            let precio = parseFloat(document.getElementById("precio").value);

            if (isNaN(consumo) || isNaN(precio) || consumo <= 0 || precio <= 0) {
                alert("Por favor, ingresa valores válidos.");
                return;
            }

            // Aumentar consumo en 30% para margen de seguridad
            let consumo_obj = consumo * 1.3;

            // Horas solares pico promedio (Colombia ≈ 5 h/día)
            let horas_solares = 5;

            // Potencia necesaria (kW)
            let potencia = (consumo_obj / 30) / horas_solares;

            // Costo estimado por kW instalado (COP)
            let costo_kw = 3500000; // Valor aproximado en Colombia
            let costo_instalacion = potencia * costo_kw;

            // Ahorro mensual y anual
            let ahorro_mensual = consumo_obj * precio;
            let ahorro_anual = ahorro_mensual * 12;

            // Tiempo de recuperación (años)
            let recuperacion = costo_instalacion / ahorro_anual;

            // Mostrar resultados
            document.getElementById("consumo_obj").innerText = consumo_obj.toFixed(2);
            document.getElementById("potencia").innerText = potencia.toFixed(2);
            document.getElementById("costo").innerText = costo_instalacion.toLocaleString();
            document.getElementById("ahorro_mes").innerText = ahorro_mensual.toLocaleString();
            document.getElementById("ahorro_anual").innerText = ahorro_anual.toLocaleString();
            document.getElementById("recuperacion").innerText = recuperacion.toFixed(1);
        }
    </script>

    <footer>
        <div class="pie">
            <p>
                © 2023 Energía Renovable del Caribe. Todos los derechos reservados.
            </p>

            <div class="footer__info">
                <p>
                    <i class="fas fa-phone"></i>
                    <a href="tel:+573024373719">+57 302 4373719</a>
                </p>
                <p>
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:torresjherson93@gmail.com">torresjherson93@gmail.com</a>
                </p>
                <p>
                    <i class="fas fa-map-marker-alt"></i>
                    Valledupar - Cesar, Colombia
                </p>
            </div>

            <p class="info">
                "Generando energía limpia para el desarrollo sostenible del Caribe"
            </p>
        </div>
    </footer>
</body>
</html>
